(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3327794e"],{"0fea":function(e,t,a){"use strict";a.d(t,"b",function(){return r}),a.d(t,"c",function(){return n}),a.d(t,"a",function(){return s});var o=a("b775"),l={user:"/user",role:"/role",service:"/service",permission:"/permission",permissionNoPager:"/permission/no-pager",orgTree:"/org/tree"};function r(e){return Object(o["b"])({url:l.role,method:"get",params:e})}function n(e){return Object(o["b"])({url:l.service,method:"get",params:e})}function s(e){return Object(o["b"])({url:l.orgTree,method:"get",params:e})}},"13b7":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{attrs:{bordered:!1}},[a("a-row",{attrs:{gutter:8}},[a("a-col",{attrs:{md:{span:5},xs:{span:10}}},[a("s-tree",{attrs:{dataSource:e.orgTree,openKeys:e.openKeys},on:{"update:openKeys":function(t){e.openKeys=t},"update:open-keys":function(t){e.openKeys=t},click:e.handleClick,add:e.handleAdd,titleClick:e.handleTitleClick}})],1),a("a-col",{attrs:{md:{span:19},xs:{span:14}}},[a("div",{staticClass:"table-operator"},[a("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.showProjectDetail}},[e._v("项目新增")])],1),a("s-table",{ref:"table",attrs:{size:"default",columns:e.columns,data:e.loadData,alert:!1,rowKey:"callNo"},scopedSlots:e._u([{key:"serial",fn:function(t,o,l){return a("span",{},[e._v("\n\t\t\t\t\t\t"+e._s(l+1)+"\n\t\t\t\t\t")])}},{key:"action",fn:function(t,o){return a("span",{},[[a("a",{on:{click:function(t){return e.handleEdit(o)}}},[e._v("编辑")]),a("a-divider",{attrs:{type:"vertical"}}),a("a",{attrs:{href:"javascript:;"}},[e._v("删除")])]],2)}}])})],1)],1),a("org-modal",{ref:"modal",on:{ok:e.handleSaveOk,close:e.handleSaveClose}}),a("a-modal",{attrs:{title:"项目详情",visible:e.projectVisible},on:{cancel:function(t){e.projectVisible=!1}}},[a("a-form",{staticStyle:{"max-height":"52vh",overflow:"auto"},attrs:{form:e.projectForm}},[a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"项目编码"}},[a("a-input")],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"项目名称"}},[a("a-input")],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"排序序号"}},[a("a-input")],1),a("a-row",[a("a-col",{attrs:{md:12,sm:12,xs:12}},[a("a-form-item",{attrs:{label:"是否默认",labelCol:{md:{span:12}}}},[a("a-switch",{attrs:{defaultChecked:""}})],1)],1),a("a-col",{attrs:{md:12,sm:12,xs:12}},[a("a-form-item",{attrs:{label:"是否有效",labelCol:{md:{span:12}}}},[a("a-switch")],1)],1)],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"备注"}},[a("a-textarea",{attrs:{rows:4}})],1)],1)],1)],1)},l=[],r=a("1bff"),n=a("2af9"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:"操作",width:600,visible:e.visible,confirmLoading:e.confirmLoading},on:{ok:e.handleOk,cancel:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-form",{attrs:{form:e.form}},[a("a-form-item",{attrs:{label:"父级ID",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-tree-select")],1),a("a-form-item",{attrs:{label:"类别编码",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["FClassCode",{}],expression:"['FClassCode', {}]"}]})],1),a("a-form-item",{attrs:{label:"类别名称",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["FClassName",{}],expression:"['FClassName', {}]"}]})],1),a("a-form-item",{attrs:{label:"备注",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["FNote",{}],expression:"['FNote', {}]"}]})],1)],1)],1)],1)},i=[],c={name:"OrgModal",data:function(){return{labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},visible:!1,confirmLoading:!1,mdl:{},form:this.$form.createForm(this)}},beforeCreate:function(){console.log("form::",this.form)},created:function(){},methods:{add:function(e){this.edit({parentId:e})},edit:function(e){this.mdl=Object.assign({},e),this.visible=!0,this.$nextTick(function(){})},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this;this.form.validateFields(function(t,a){t||(console.log("form values",a),e.confirmLoading=!0,new Promise(function(e){setTimeout(function(){return e()},2e3)}).then(function(){e.$message.success("保存成功"),e.$emit("ok")}).catch(function(){}).finally(function(){e.confirmLoading=!1,e.close()}))})},handleCancel:function(){this.close()}}},d=c,u=a("17cc"),m=Object(u["a"])(d,s,i,!1,null,null,null),p=m.exports,f=a("0fea"),b={name:"dictdata",components:{STable:n["n"],STree:r["a"],OrgModal:p},data:function(){var e=this;return{labelCol:{md:6,sm:24},wrapperCol:{md:18,sm:24},openKeys:["key-01"],queryParam:{key:"key-01-01-01"},columns:[{title:"#",scopedSlots:{customRender:"serial"}},{title:"项目编码",dataIndex:"FItemCode"},{title:"项目名称",dataIndex:"FItemName"},{title:"排序序号",dataIndex:"FSortID"},{title:"默认",dataIndex:"FIsDefault"},{title:"有效",dataIndex:"FStatus"},{title:"备注",dataIndex:"FNote"},{title:"操作",dataIndex:"action",width:"150px",scopedSlots:{customRender:"action"}}],loadData:function(t){return Object(f["c"])(Object.assign(t,e.queryParam)).then(function(e){return e.result})},orgTree:[],selectedRowKeys:[],selectedRows:[],projectVisible:!1,projectForm:this.$form.createForm(this)}},created:function(){var e=this;Object(f["a"])().then(function(t){e.orgTree=t.result,console.log(e.orgTree)})},methods:{handleClick:function(e){console.log("handleClick",e),this.queryParam={key:e.key},this.$refs.table.refresh(!0)},handleAdd:function(e){console.log("add button, item",e),this.$message.info("提示：你点了 ".concat(e.key," - ").concat(e.title," ")),this.$refs.modal.add(e.key)},handleTitleClick:function(e){console.log("handleTitleClick",e)},titleClick:function(e){console.log("titleClick",e)},handleSaveOk:function(){},handleSaveClose:function(){},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t},showProjectDetail:function(){this.projectVisible=!0}}},h=b,C=(a("c69a"),Object(u["a"])(h,o,l,!1,null,null,null));t["default"]=C.exports},c69a:function(e,t,a){"use strict";var o=a("e058"),l=a.n(o);l.a},e058:function(e,t,a){}}]);