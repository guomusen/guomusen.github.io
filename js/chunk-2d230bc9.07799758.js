(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d230bc9"],{ee0c:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-card",{attrs:{bordered:!1}},[a("div",{staticClass:"table-page-search-wrapper"},[a("a-form",{attrs:{layout:"inline"}},[a("a-row",{attrs:{gutter:48}},[a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"视频标题"}},[a("a-input",{attrs:{placeholder:""},model:{value:t.queryParam.FTitle,callback:function(e){t.$set(t.queryParam,"FTitle",e)},expression:"queryParam.FTitle"}})],1)],1),a("a-col",{attrs:{md:6,sm:24}},[a("a-form-item",{attrs:{label:"是否上架"}},[a("a-select",{attrs:{placeholder:"请选择","default-value":"99"},model:{value:t.queryParam.FShelf,callback:function(e){t.$set(t.queryParam,"FShelf",e)},expression:"queryParam.FShelf"}},[a("a-select-option",{attrs:{value:"99"}},[t._v("不限")]),t._l(t.fshelfOption,function(e,n){return a("a-select-option",{key:n,attrs:{value:e.value}},[t._v(t._s(e.text))])})],2)],1)],1),a("a-col",{attrs:{md:5,sm:24}},[a("a-form-item",{attrs:{label:"是否推荐"}},[a("a-select",{attrs:{placeholder:"请选择",defaultValue:"99"},model:{value:t.queryParam.FTop,callback:function(e){t.$set(t.queryParam,"FTop",e)},expression:"queryParam.FTop"}},[a("a-select-option",{attrs:{value:"99"}},[t._v("不限")]),t._l(t.topOption,function(e,n){return a("a-select-option",{key:n,attrs:{value:e.value}},[t._v(t._s(e.text))])})],2)],1)],1),a("a-col",{attrs:{md:t.advanced?24:5,sm:24}},[a("span",{staticClass:"table-page-search-submitButtons",style:t.advanced&&{float:"right",overflow:"hidden"}||{}},[a("a-button",{attrs:{type:"primary"},on:{click:t.toSearch}},[t._v("查询")])],1)])],1)],1)],1),a("div",{staticClass:"table-operator"},[a("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:t.toAdd}},[t._v("新建")])],1),a("a-table",{attrs:{columns:t.columns,dataSource:t.data,rowKey:"FID",loading:t.loading,pagination:t.pagination,bordered:""},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"serial",fn:function(e,n,r){return a("span",{},[t._v("\n      "+t._s(r+1)+"\n    ")])}},{key:"FStatus",fn:function(e){return a("span",{},[a("a-badge",{attrs:{status:t._f("statusTypeFilter")(e),text:t._f("statusFilter")(e)}})],1)}},{key:"action",fn:function(e,n){return a("span",{},[[a("a",{on:{click:function(e){return t.editNews(n)}}},[t._v("编辑")]),a("a-divider",{attrs:{type:"vertical"}}),a("a",[t._v("发布")]),a("a-divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(e){return t.deleteNews(n)}}},[t._v("删除")])]],2)}}])})],1)},r=[],s=(a("d027"),a("6bf2"),a("2af9")),o=(a("0fea"),a("7f43"),a("51a4"),{0:{status:"default",text:"未发布"},1:{status:"success",text:"已发布"}}),i=[{value:0,text:"未上架"},{value:1,text:"已上架"}],l=[{value:0,text:"未推荐"},{value:1,text:"已推荐"}],u={name:"appvideo",components:{STable:s["n"]},data:function(){return{mdl:{},advanced:!1,queryParam:{FTitle:"",FTop:"99",FShelf:"99",fpage:1,fsize:10},columns:[{title:"#",scopedSlots:{customRender:"serial"}},{title:"视频标题",dataIndex:"FTitle"},{title:"封面图片",dataIndex:"FVer"},{title:"视频时长",dataIndex:"FLengthTime"},{title:"标签",dataIndex:"FTags"},{title:"是否上架",dataIndex:"FShelf",scopedSlots:{customRender:"FShelf"}},{title:"是否推荐",dataIndex:"FTop"},{title:"上架顺序",dataIndex:"FOrder"},{title:"操作",dataIndex:"action",width:"160px",fixed:"right",scopedSlots:{customRender:"action"}}],data:[],loading:!1,topOption:l,fshelfOption:i,pagination:{defaultPageSize:10,defaultCurrent:1,pageSizeOptions:["10","20","30","40"],showSizeChanger:!0,total:0,showTotal:function(t){return"共有".concat(t,"条")}}}},filters:{statusFilter:function(t){return o[t].text},statusTypeFilter:function(t){return o[t].status}},created:function(){var t=sessionStorage.getItem("softlogsPage");this.queryParam.fpage=t?Number(t):1,this.pagination.defaultCurrent=t?Number(t):1,sessionStorage.clear(),this.getLogsList()},methods:{handleTableChange:function(t){this.queryParam.fpage=t.current,this.queryParam.fsize=t.pageSize,this.getLogsList()},toSearch:function(){this.queryParam.fpage=1,this.getLogsList()},getLogsList:function(){var t=this,e={url:"/webAdminApi/verlog/getverloglist",action:"获取版本日志"},a=new FormData;a.append("FType",this.queryParam.FType),a.append("FPort",this.queryParam.FPort),a.append("FStatus",Number(this.queryParam.FStatus)),a.append("FPage",this.queryParam.fpage),a.append("FSize",this.queryParam.fsize),e.json=a,e.func=function(e){t.data=e.list,t.pagination.total=e.totalNumber,t.loading=!1}},toAdd:function(){this.$router.push("/sop/appvideo/add")},deleteNews:function(t){var e=this;this.$confirm({title:"提示",content:"是否删除该条新闻",onOk:function(){var a={url:"/webAdminApi/verlog/deleteverlog",action:"删除一条版本日志"},n=new FormData;n.append("FID",t.FID),a.json=n,a.func=function(t){e.$info({title:"提示",content:"删除成功"}),e.getLogsList()}},onCancel:function(){}})},editNews:function(t){sessionStorage.setItem("softlogsPage",this.queryParam.fpage),this.$router.push({path:"/news/softverlogs/add",query:{fid:t.FID}})}}},c=u,d=a("17cc"),p=Object(d["a"])(c,n,r,!1,null,null,null);e["default"]=p.exports}}]);